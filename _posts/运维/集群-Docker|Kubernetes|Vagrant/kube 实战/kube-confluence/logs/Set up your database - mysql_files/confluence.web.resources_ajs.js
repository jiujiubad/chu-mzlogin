;
/* module-key = 'confluence.web.resources:ajs', location = '/includes/js/aui-draft.js' */
define("confluence/aui-draft","jquery ajs confluence/meta window document confluence/api/regexes".split(" "),function(c,b,g,i,l,j){var d={};c.ajaxSetup({traditional:true});d.defaultIfUndefined=function(a,b){var e=null,c=i;if(typeof b!=="undefined"){if(typeof b.defaultValue==="object")e=b.defaultValue;if(typeof b.rootObject!=="undefined")if(typeof b.rootObject==="object"&&b.rootObject)c=b.rootObject;else return e}if(typeof a!=="string")return e;for(var d=a.split("."),f=0;f<d.length;f++){if(!Object.prototype.hasOwnProperty.call(c,
d[f]))return e;c=c[d[f]]}return c};var f,k=false;f=function(a){var b=!!i.localStorage;if(typeof a!=="boolean")return b?localStorage.getItem("debug-switch-enabled")=="true":k;b?localStorage.setItem("debug-switch-enabled",a):k=a};d.debug=function(){if(f()){var a=Array.prototype.slice.call(arguments);a.splice(0,0,"DEBUG: "+(new Date).toLocaleTimeString());b.log.apply(b,a)}};d.debugEnabled=function(a){if(typeof a!=="boolean")return f();f(a);b.log("STICKY FLAG DEBUG ENABLED: "+a)};d.logError=function(a,
d){var e=[];if(c.browser.webkit)e.push(d);else for(var f in d)e.push(f+": "+d[f]);b.log(a+e.join(", "))};if(g.getBoolean("log-rendered")){var m=b.log,h=c('<div id="ajs-log" class="log"><h3>AJS Log</h3>\n</div>'),n=c("head");h.toggleClass("hidden",!g.getBoolean("log-visible"));b.log=function(a){var d=typeof a==="undefined"?"undefined":a,e=l.createElement("script");e.type="text/x-log";e.text=d;n.append(e);h.append(c("<p></p>").text("\n"+d));m.apply(b,arguments)};b.toInit(function(){c("body").append(h)})}d.getJSONWrap=
function(a){var d=b.contextPath(),e=a.url;e.indexOf(d)!==0&&e.indexOf("http")!==0&&(e=d+e);a.loadingElement&&b.setVisible(a.loadingElement,true);var f=a.messageHandler;f.clearMessages();c.ajax({type:"GET",url:e,dataType:"json",data:a.data,error:function(){a.loadingElement&&b.setVisible(a.loadingElement,false);f.displayMessages(a.errorMessage||"There was an error communicating with the server, please try again later.");a.errorCallback&&a.errorCallback()},success:function(c){a.loadingElement&&b.setVisible(a.loadingElement,false);f.handleResponseErrors(c)?
a.errorCallback&&a.errorCallback():a.successCallback&&a.successCallback(c)}})};d.Validate=c.extend({email:function(a){return j.EMAIL.test(a)},url:function(a){return j.URL.test(a)}},b.Validate);d.Meta=b.Data||g;return d});
require("confluence/module-exporter").safeRequire("confluence/aui-draft",function(c){var b=require("ajs");"function"!==typeof b.defaultIfUndefined&&(b.defaultIfUndefined=c.defaultIfUndefined);b.debug=c.debug;b.debugEnabled=c.debugEnabled;b.logError=c.logError;b.getJSONWrap=c.getJSONWrap;b.Validate=c.Validate;b.Data=c.Meta});;
;
/* module-key = 'confluence.web.resources:ajs', location = '/includes/js/message-handler.js' */
define("confluence/message-handler",["jquery","ajs"],function(d,g){var j=function(a){var c,b;c=function(){return a.baseElement};b=function(a){var c=d("ul",a);c.length||(c=g("ul").appendTo(a));return c};return{getMessageContainer:c,clearMessages:function(){c().addClass("hidden").empty()},displayMessages:function(a){if(a&&a.length){d.isArray(a)||(a=[a]);for(var h=c(),i=b(h),e=0,f=a.length;e<f;e++)g("li").text(a[e]).appendTo(i);h.removeClass("hidden")}},handleResponseErrors:function(a,c){var b=[].concat(a.validationErrors||
[]).concat(a.actionErrors||[]).concat(a.errorMessage||[]);return b.length?(this.displayMessages(c||b),!0):!1}}},b=function(a,c){var b=d.extend(j(a),c&&c(a));b.getMessageContainer().addClass("message-handler");b.clearMessages();return b},e=!1,f;b.closeOnNew=function(a){if("undefined"!==typeof a)e=a;else return e};b.message=function(a,b,d){d=d||"success";e&&a.empty();return g.messages[d](a,{body:b,closeable:!0,shadowed:!0})};b.error=function(a,c){return b.message(a,c,"error")};b.actionMessage=function(a,
c){f=f||d("#action-messages");return b.message(f,a,c)};b.loading=function(a){return b.actionMessage(a,"info")};b.flag=function(a){return require("aui/flag")(d.extend({},{type:"success",close:"manual"},a))};return b});require("confluence/module-exporter").exportModuleAsGlobal("confluence/message-handler","AJS.MessageHandler");;
;
/* module-key = 'confluence.web.resources:ajs', location = '/includes/js/dialog.js' */
define("confluence/dialog",["ajs","document","jquery"],function(a,h,d){return{component:function(b){var g,b=b||{},b=d.extend({},{keypressListener:function(c){if(27===c.keyCode){if(a.debug("dialog.js: escape keydown caught"),!d(".aui-dropdown",g.popup.element).is(":visible"))if("function"===typeof b.onCancel)b.onCancel();else g.hide()}else 13===c.keyCode&&(a.debug("dialog.js: enter keydown caught"),d(".aui-dropdown",g.popup.element).is(":visible")||"textarea"!==(c.target.nodeName&&c.target.nodeName.toLowerCase())&&
"function"===typeof b.onSubmit&&setTimeout(b.onSubmit))},width:865,height:530},b);g=new a.Dialog(b);d(h).bind("hideLayer",function(a,e,f){if("popup"===e&&f===g&&"function"===typeof b.onCancel)b.onCancel()});return g},initialiser:function(b){a.bind("show.dialog",function(b,c){var e=a.Meta.get("page-id"),f=a.Meta.get("space-key"),i=a.Meta.get("editor-mode"),d=a.Meta.get("new-page");a.EventQueue=a.EventQueue||[];a.EventQueue.push({name:c.dialog.id,properties:function(){var b={};e&&(b.pageid=e);f&&(b.spacekey=
f);i&&(b.editormode=i);d&&(b.newpage=d);return b}()})});b(h).bind("showLayer",function(a,c,e){Confluence.runBinderComponents();if("popup"==c&&e){var a=b(e.element),f;if(!a.attr("data-lasttab-override")){a.attr("data-tab-default")&&(f=a.attr("data-tab-default"));var d=Confluence.storageManager(a.attr("id")),c=d.getItem("last-tab");(f=null!=c?c:f)&&b(".page-menu-item:visible:eq("+f+") button",a).click();a.attr("data-lasttab-bound")||(b(".page-menu-item",a).each(function(a,c){b(c).click(function(){d.setItem("last-tab",
a)})}),a.attr("data-lasttab-bound","true"))}}});a.Dialog.prototype.overrideLastTab=function(){b(this.popup.element).attr("data-lasttab-override","true")};a.Dialog.prototype.addHelpText=function(d,c){if(d){var e=d;c&&(e=a.template(d).fill(c).toString());var f=this.page[this.curpage];f.buttonpanel||f.addButtonPanel();e=b("<div class='dialog-tip'></div>").html(e);f.buttonpanel.append(e);b("a",e).click(function(){window.open(this.href,"_blank").focus();return!1})}};a.Dialog.prototype.getTitle=function(){return b("#"+
this.id+" .dialog-components:visible h2").text()};a.Dialog.prototype.isVisible=function(){return b("#"+this.id).is(":visible")}}}});require("confluence/module-exporter").safeRequire("confluence/dialog",function(a){AJS.ConfluenceDialog=a.component;AJS.toInit(a.initialiser)});;
;
/* module-key = 'confluence.web.resources:ajs', location = '/includes/js/aui-overrides.js' */
define("confluence/aui-overrides",["window","ajs","jquery","confluence/api/type-helpers"],function(d,e,b,g){function f(){b("meta[name^=ajs-]").each(function(){var a=this.name,c=this.content,a=a.substring(4).replace(/(-\w)/g,function(a){return a.charAt(1).toUpperCase()});"undefined"===typeof e.params[a]&&(e.params[a]=g.asBooleanOrString(c))})}d.$=b;"undefined"!==typeof e&&f();return{enable:function(){return this.each(function(){var a=b(this);a.is("a")&&a.css("pointer-events","");var c=a.attr("disabled",
!1).attr("aria-disabled",!1).removeClass("disabled").attr("id");c&&b("label[for="+c+"]",a.parent()).removeClass("disabled")})},disable:function(){return this.each(function(){var a=b(this);a.is("a")&&a.css("pointer-events","none");var c=a.prop("disabled",!0).attr("aria-disabled",!0).addClass("disabled").attr("id");c&&b("label[for="+c+"]",a.parent()).addClass("disabled")})},debounce:function(a,c){var b;return function(){var d=this,e=arguments;b&&(clearTimeout(b),b=void 0);b=setTimeout(function(){a.apply(d,
e);b=void 0},c)}},metaToParams:f}});require("confluence/module-exporter").safeRequire("confluence/aui-overrides",function(d){require("confluence/module-exporter").namespace("AJS.$.debounce",d.debounce);require("confluence/module-exporter").namespace("AJS.$.fn.enable",d.enable);require("confluence/module-exporter").namespace("AJS.$.fn.disable",d.disable)});;