;
/* module-key = 'confluence.aui.staging:storage-manager', location = 'js/storage-manager.js' */
define("confluence/storage-manager",["confluence/meta","confluence/api/logger","window"],function(j,h,c){return function(k,l){var i=j.get("remote-user"),e=k+"."+(i?i+".":"")+l,f=!1,m=/\d+#/,g=function(a){if(!f)return null;var d,b=c.localStorage.getItem(e+"."+a);if(d=m.exec(b))if(b=b.replace(d[0],""),+new Date>d[0].replace("#",""))return c.localStorage.removeItem(e+"."+a),null;return b};try{f="localStorage"in c&&null!==c.localStorage}catch(n){h.log("Browser does not support localStorage, Confluence.storageManager will not work.")}return{getItem:g,
doesContain:function(a){return!!g(a)},getItemAsBoolean:function(a){a=g(a);return"false"==a?!1:"true"==a?!0:!!a},setItem:function(a,d,b){f&&(b=(b=1E3*(b||0))?+new Date+b+"#":"",c.localStorage.setItem(e+"."+a,b+d))},setItemQuietly:function(a,d,b){try{this.setItem(a,d,b)}catch(c){h.debug("Unable to write to localStorage. key: ",a,", value: ",d,", cause: ",c)}},removeItem:function(a){f&&c.localStorage.removeItem(e+"."+a)}}}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence/storage-manager","AJS.storageManager");;